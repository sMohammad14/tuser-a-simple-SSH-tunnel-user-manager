# ÙØ§Ø±Ø³ÛŒ
---
# TUser - Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ù…Ø­Ø¯ÙˆØ¯ Ø´Ø¯Ù‡ SSH

Ø§ÛŒÙ† Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø¨Ù‡ Ø´Ù…Ø§ Ú©Ù…Ú© Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†ÛŒ Ø±ÙˆÛŒ Ø³Ø±ÙˆØ± Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒØ¯ Ú©Ù‡ **ÙÙ‚Ø· Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ Ø§Ø² SSH Ø¨Ø±Ø§ÛŒ Ø¹Ø¨ÙˆØ± ØªØ±Ø§ÙÛŒÚ© Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†Ù†Ø¯** Ùˆ Ù‡ÛŒÚ† Ú©Ø§Ø± Ø¯ÛŒÚ¯Ø±ÛŒ Ø§Ù†Ø¬Ø§Ù… Ù†Ø¯Ù‡Ù†Ø¯ (Ø­ØªÛŒ Ú¯Ø±ÙØªÙ† Ø´Ù„ ÛŒØ§ Ø§Ø¬Ø±Ø§ÛŒ Ø¯Ø³ØªÙˆØ±Ø§Øª Ø¯ÛŒÚ¯Ø±).

Ø¨Ø§ Ú©Ù…Ú© Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø¢Ø³Ø§Ù† Ù†ØµØ¨ØŒ ÙØ§ÛŒÙ„ Ø±Ùˆ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯ Ùˆ Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒØ¯ØŒ Ø®ÙˆØ¯Ø´ Ø³ÛŒØ³ØªÙ… Ø±Ùˆ Ø¢Ù¾Ø¯ÛŒØª Ú©Ø±Ø¯Ù‡ Ùˆ jq Ø±Ùˆ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø± Ø¨Ø§ ÙØ§ÛŒÙ„ Ù‡Ø§ÛŒ JSON Ù†ØµØ¨ Ù…ÛŒÚ©Ù†Ù‡ (Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø± Ø¨Ø§ ÛŒÚ© Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ù…ØªÙ†ÛŒ)ØŒ Ø§ÛŒÙ† ØªÙ†Ù‡Ø§ Ú†ÛŒØ²ÛŒÙ‡ Ú©Ù‡ Ø´Ù…Ø§ Ø¨Ù‡Ø´ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒØ¯!

Ø¨Ø¹Ø¯ Ø§Ø² Ù†ØµØ¨ Ø´Ù…Ø§ Ø¨Ø§ Ú©Ø§Ù…Ù†Ø¯ `tuser` Ù…ÛŒØªÙˆÙ†ÛŒØ¯ Ø§Ø² Ø·Ø±ÛŒÙ‚ ÛŒÚ© Ù…Ù†Ùˆ ØªØ¹Ø§Ù…Ù„ÛŒØŒ Ø¨Ø§ Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø¨Ù‡ Ø±Ø§Ø­ØªÛŒ Ú©Ø§Ø± Ú©Ù†ÛŒØ¯.

## âœ¨ Ø§Ù…Ú©Ø§Ù†Ø§Øª Ø¨Ø±Ù†Ø§Ù…Ù‡

Ø¨Ø§ Ø§ÛŒÙ† Ø¨Ø±Ù†Ø§Ù…Ù‡ Ù…ÛŒØªÙˆÙ†ÛŒØ¯:

- Ú©Ø§Ø±Ø¨Ø±Ø§Ù†ÛŒ Ø±Ùˆ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯ Ø¨Ù‡ Ø³ÛŒØ³ØªÙ… Ú©Ù‡ Ø§Ø² Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ù…Ø¬Ø§Ø² Ø³ÛŒØ³ØªÙ… (Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¹Ø§Ø¯ÛŒ SSH) Ù…ØªÙ…Ø§ÛŒØ² Ù‡Ø³ØªÙ†Ø¯ Ùˆ Ø§ÛŒÙ† Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ù‡ ØµÙˆØ±Øª Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ´Ù‡ØŒ ÛŒØ¹Ù†ÛŒ Ù†Ù…ÛŒØªÙˆÙ†ÛŒØ¯ Ø¨Ø§ Ø§ÛŒÙ† Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø³Ø§ÛŒØ± Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø±Ùˆ Ú©Ù‡ Ø¨Ø§ Ø§ÛŒÙ† Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ù†Ø´Ø¯Ù†ØŒ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†ÛŒØ¯. Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø§ÛŒÙ† Ø¨Ø±Ù†Ø§Ù…Ù‡ ÙÙ‚Ø· Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø®ÙˆØ¯Ø´ Ø±Ùˆ Ù…ÛŒØ´Ù†Ø§Ø³Ù‡ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ù…ÛŒÚ©Ù†Ù‡!
- Ø§Ù…Ú©Ø§Ù†Ø§Øª Ø¬Ø§Ù†Ø¨ÛŒ Ú©Ù‡ Ø§ÛŒÙ† Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø¯Ø± Ø§Ø®ØªÛŒØ§Ø± Ø´Ù…Ø§ Ù…ÛŒØ²Ø§Ø±Ù‡ØŒ Ø´Ø§Ù…Ù„:
  - ØºÛŒØ± ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ú©Ø§Ø±Ø¨Ø±
  - ØªÙ†Ø¸ÛŒÙ… Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø±ÙˆØ²Ù‡Ø§ÛŒ Ù‚Ø§Ø¨Ù„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±
  - ØªØ¹ÛŒÛŒÙ† Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù‡Ù…Ø²Ù…Ø§Ù† Ø§Ø² ÛŒÚ© Ø§Ú©Ø§Ù†Øª
  - Ø¨Ú©Ø§Ù¾ Ú¯ÛŒØ±ÛŒ Ùˆ Ø±Ø³ØªÙˆØ± Ø¨Ú©Ø§Ù¾
- Ù‡Ù…Ú†Ù†ÛŒÙ† Ù…ÛŒØªÙˆÙ†ÛŒØ¯ Ø¨Ù‡ Ø±Ø§Ø­ØªÛŒ ØªÙ…Ø§Ù… Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø±Ùˆ Ø§Ø² Ø±ÙˆÛŒ Ø³ÛŒØ³ØªÙ… Ø¨Ù‡ Ù‡Ù…Ø±Ø§Ù‡ ÙØ§ÛŒÙ„ Ù‡Ø§ Ùˆ Ø¯ÛŒØªØ§ Ø¨ÛŒØ³ Ùˆ Ø­ØªÛŒ ÛŒÙˆØ²Ø± Ù‡Ø§ÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡ Ø¨Ø§ Ø§ÛŒÙ† Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø­Ø°Ù Ú©Ù†ÛŒØ¯.
- **Ù…Ø¯Øª Ø²Ù…Ø§Ù†:** Ø§Ú¯Ø± Ù…Ù‚Ø¯Ø§Ø±ÛŒ ÙˆØ§Ø±Ø¯ Ù†Ú©Ù†ÛŒØ¯ 30 Ø±ÙˆØ² Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯ Ùˆ Ø§Ú¯Ø± 0 ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ Ø¨Ø¯ÙˆÙ† Ø§Ù†Ù‚Ø¶Ø§ Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯.
- **Ø§ØªØµØ§Ù„ Ù‡Ù…Ø²Ù…Ø§Ù†:** Ø§Ú¯Ø± Ù…Ù‚Ø¯Ø§Ø±ÛŒ ÙˆØ§Ø±Ø¯ Ù†Ú©Ù†ÛŒØ¯ 1 Ø§ØªØµØ§Ù„ Ù‡Ù…Ø²Ù…Ø§Ù† Ù…Ø¬Ø§Ø² Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯ Ùˆ Ø§Ú¯Ø± 0 ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ Ø¨Ø¯ÙˆÙ† Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø§ØªØµØ§Ù„ Ù‡Ù…Ø²Ù…Ø§Ù† Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯.
- Ù‡Ù†Ú¯Ø§Ù… Ø±Ø³ØªÙˆØ± Ø¨Ú©Ø§Ù¾ØŒ Ø§ÛŒÙ† Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø¨Ù‡ ØµÙˆØ±Øª Ø®ÙˆØ¯Ú©Ø§Ø± Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø±Ùˆ Ø§ÛŒØ¬Ø§Ø¯ Ø®ÙˆØ§Ù‡Ø¯ Ú©Ø±Ø¯.

## âš ï¸ Ù†Ú©Ø§Øª Ù…Ù‡Ù…

- Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø§ÛŒÙ† Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø¨Ø§ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø³ÛŒØ³ØªÙ… Ø¯Ø± Ù†Ø§Ù… ÛŒÚ©ÛŒ Ø®ÙˆØ§Ù‡Ù†Ø¯ Ø¨ÙˆØ¯. ÛŒØ¹Ù†ÛŒ Ø§Ú¯Ø± Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø¨Ù‡ Ù†Ø§Ù… `user1` ØªÙˆÛŒ Ø³ÛŒØ³ØªÙ… Ø¯Ø§Ø±ÛŒØ¯ Ù†Ù…ÛŒØªÙˆÙ†ÛŒØ¯ Ø¨Ø§ Ø§ÛŒÙ† Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒØ¯ (Ù¾ÛŒØ§Ù… Ù…Ù†Ø§Ø³Ø¨ Ù…ÛŒØ¯Ù‡) Ù¾Ø³ Ù‡Ù†Ú¯Ø§Ù… Ø±Ø³ØªÙˆØ± Ø¨Ù‡ Ø§ÛŒÙ† Ù…ÙˆØ±Ø¯ Ø¯Ù‚Øª Ú©Ù†ÛŒØ¯.
- Ø¯Ø± Ù†ØªÛŒØ¬Ù‡ Ù„Ø§Ø²Ù… Ù‡Ø³Øª Ù‚Ø¨Ù„ Ø§Ø² Ø±Ø³ØªÙˆØ±ØŒ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯ ÛŒÙˆØ²Ø±ÛŒ Ú©Ù‡ ØªÙˆÛŒ ÙØ§ÛŒÙ„ Ø¨Ú©Ø§Ù¾ Ù‡Ø³ØªØŒ ÛŒÙˆØ²Ø±ÛŒ Ø¨Ø§ Ù‡Ù…ÛŒÙ† ÛŒÙˆØ²Ø±Ù†ÛŒÙ… ØªÙˆÛŒ Ø³ÛŒØ³ØªÙ… Ù†Ø¨Ø§Ø´Ù‡.
- Ø¨Ø§ Ø­Ø°Ù Ø¨Ø±Ù†Ø§Ù…Ù‡ØŒ Ø¨Ú©Ø§Ù¾ Ù‡Ø§ Ù‡Ù… Ø­Ø°Ù Ù…ÛŒØ´Ù†.
- Ù…Ø³ÛŒØ± ÙØ§ÛŒÙ„ Ù‡Ø§ÛŒ Ø¨Ú©Ø§Ù¾: `/opt/tuser/backups`
- Ø¨Ø±Ø§ÛŒ Ø¨Ø±Ø±Ø³ÛŒ Ø§Ø¹ØªØ¨Ø§Ø± Ø§Ú©Ø§Ù†Øª Ùˆ Ù‚Ø·Ø¹ Ø§Ø±ØªØ¨Ø§Ø· Ù¾Ø³ Ø§Ø² Ù…Ø¯Øª Ù…Ø¬Ø§Ø²Ù Ø§ÛŒÙ† Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø³Ø§Ø¹Øª 03:00AM Ø§ÛŒÙ† Ø¨Ø±Ø±Ø³ÛŒ Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ Ùˆ Ø§Ú©Ø§Ù†Øª Ø±Ùˆ ØºÛŒØ± ÙØ¹Ø§Ù„ Ù…ÛŒÚ©Ù†Ù‡ØŒ ÛŒØ¹Ù†ÛŒ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ù…Ø«Ù„Ø§ ØªØ§ ØªØ§Ø±ÛŒØ® 2026/07/02 Ø§Ø¹ØªØ¨Ø§Ø± Ø¯Ø§Ø±Ù‡ØŒ Ø³Ø§Ø¹Øª 03:00AM ØªØ§Ø±ÛŒØ® 2026/07/03 Ø§Ú©Ø§Ù†ØªØ´ ØºÛŒØ± ÙØ¹Ø§Ù„ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯.
- Ù‡Ù†Ú¯Ø§Ù… Ù†ØµØ¨ Ø¨Ø±Ù†Ø§Ù…Ù‡ØŒ Ø³Ø§Ø¹Øª Ø³ÛŒØ³ØªÙ… Ø¨Ù‡ Ø³Ø§Ø¹Øª Ø§ÛŒØ±Ø§Ù† ØªØºÛŒÛŒØ± Ù…ÛŒÚ©Ù†Ù‡. (Ø¨Ø±Ø§ÛŒ ØªØ¶Ù…Ø¨Ù† Ø¹Ù…Ù„Ú©Ø±Ø¯ ØºÛŒØ± ÙØ¹Ø§Ù„ Ø³Ø§Ø²ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± Ø§Ú©Ø§Ù†Øª Ù‡Ø§). Ù…ÛŒØªÙˆÙ†ÛŒØ¯ Ø¨Ø¹Ø¯ Ø§Ø² Ù†ØµØ¨ØŒ ØªØ§Ø±ÛŒØ® Ø³ÛŒØ³ØªÙ… Ø±Ùˆ Ù…Ø¬Ø¯Ø¯Ø§ ØªØºÛŒÛŒØ± Ø¨Ø¯ÛŒØ¯.
- Ø±Ù…Ø²Ù‡Ø§ÛŒ Ø¹Ø¨ÙˆØ± Ø¯Ø± ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù† Ø¨Ù‡ ØµÙˆØ±Øª **cleartext** (Ù…ØªÙ† Ø¢Ø´Ú©Ø§Ø±) Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯. Ø§ÛŒÙ† Ø·Ø±Ø§Ø­ÛŒ Ø¹Ù…Ø¯ÛŒ Ø§Ø³Øª ØªØ§ Ø§Ù…Ú©Ø§Ù† ÙˆÛŒØ±Ø§ÛŒØ´ Ø¯Ø³ØªÛŒ Ø±Ù…Ø²Ù‡Ø§ Ù‚Ø¨Ù„ Ø§Ø² Ø¹Ù…Ù„ÛŒØ§Øª Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ (restore) ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯.
## ğŸ“‹ Ù…Ù†ÙˆÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡

Ù…Ù†Ùˆ Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø´Ø§Ù…Ù„:

1. Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ú©Ø§Ø±Ø¨Ø±
2. Ø­Ø°Ù Ú©Ø§Ø±Ø¨Ø±
3. ÙØ¹Ø§Ù„/ØºÛŒØ± ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ú©Ø§Ø±Ø¨Ø±
4. Ø§ØµÙ„Ø§Ø­ Ø±ÙˆØ²Ù‡Ø§ÛŒ Ø¨Ø§Ù‚ÛŒ Ù…Ø§Ù†Ø¯Ù‡
5. Ø§ØµÙ„Ø§Ø­ Ù¾Ø³ÙˆØ±Ø¯ Ú©Ø§Ø±Ø¨Ø±
6. Ø§ØµÙ„Ø§Ø­ ØªØ¹Ø¯Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø± Ù‡Ù…Ø²Ù…Ø§Ù† Ø¨Ø±Ø§ÛŒ ÛŒÚ© Ø§Ú©Ø§Ù†Øª
7. Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù„ÛŒØ³Øª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†
8. Ø¨Ú©Ø§Ù¾ / Ø±Ø³ØªÙˆØ±
9. Ø­Ø°Ù Ú©Ø§Ù…Ù„
0. Ø®Ø±ÙˆØ¬

## ğŸ”® Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¢ÛŒÙ†Ø¯Ù‡

Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø¢Ù¾Ø¯ÛŒØª Ø¨Ø¹Ø¯ÛŒØŒ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø­Ø¬Ù… Ù‡Ù… Ø§Ø¶Ø§ÙÙ‡ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯.


## ğŸ“· ØªØµØ§ÙˆÛŒØ±
![Main Menu](./screenshots/Main_Menu.png)

![Adding User](./screenshots/Adding_user.png)

![All Users](./screenshots/All_user.png)


# English
---
# TUser - Restricted SSH User Manager

This program helps you create users on the server who **can only use SSH for traffic tunneling** and cannot do anything else (not even get a shell or run other commands).

With the easy installation script, download and run the file. It will update the system and install `jq` for working with JSON files (for working with a text database). This is all you need!

After installation, you can use the `tuser` command to easily work with the program through an interactive menu.

## âœ¨ Program Features

With this program you can:

- Add users to the system that are distinct from regular system users (normal SSH users). This management is done intelligently, meaning you cannot manage other users who were not created with this program. In fact, this program only recognizes and manages its own users!
- Additional features provided by this program include:
  - Disabling users
  - Setting usage day limits for users
  - Setting concurrent connection limits for an account
  - Backup and restore functionality
- You can also easily remove the entire program from the system along with its files, database, and even users created with this program.
- During restore, the program will automatically create the users.

## âš ï¸ Important Notes

- Users created by this program will have the same names as system users. This means if you already have a user named `user1` in the system, you cannot create it with this program (appropriate message will be shown). So be careful when restoring.
- Therefore, before restoring, make sure that users in the backup file don't already exist in the system with the same username.
- When you remove the program, backups will also be deleted.
- Backup files path: `/opt/tuser/backups`
- **Duration:** If you don't enter a value, it will be 30 days, and if you enter 0, it will be without expiration.
- **Concurrent Connections:** If you don't enter a value, 1 concurrent connection will be allowed, and if you enter 0, it will be without concurrent connection limit.
- To check account validity and terminate connections after the allowed period, this program performs the check at `03:00` AM and disables the account. For example, if a user is valid until 2026/07/02, their account will be disabled at 03:00 AM on 2026/07/03.
- During program installation, the system time is changed to Iran time `(Asia/Tehran)`. This ensures the proper functioning of the automatic account deactivation feature. You can change the system date/time again after installation if needed.
- Passwords are stored as **cleartext** in backup files. This is by design to allow manual editing of passwords before performing restore operations.

## ğŸ“‹ Program Menu

The program menu includes:

1. Add user
2. Remove user
3. Enable/Disable user
4. Modify remaining days
5. Change user password
6. Modify concurrent connections limit
7. View user list
8. Backup / Restore
9. Complete removal
0. Exit

## ğŸ”® Future Update

As a future update, data usage limits will be added.


## ğŸ“· ScreenShots

![Main Menu](./screenshots/Main_Menu.png)

![Adding User](./screenshots/Adding_user.png)

![All Users](./screenshots/All_user.png)
